

<!DOCTYPE html>


<html lang="es" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Uso del testbench o banco de pruebas en simulaciones &#8212; Apuntes de circuitos lógicos UPIIH IPN</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="_static/.ipynb_checkpoints/myfile-checkpoint.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'simulaciones_testbench';</script>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Resta binaria" href="resta_binaria.html" />
    <link rel="prev" title="Circuitos lógicos aritméticos" href="circuitos_aritmeticos.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Saltar al contenido principal</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo_UPIIH.jpeg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo_UPIIH.jpeg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Material didáctico de circuitos lógicos
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="circuitos_logicos_VHDL.html">Formas de especificar el comportamiento de un circuito lógico</a></li>
<li class="toctree-l1"><a class="reference internal" href="logicos_VHDL.html">Tipos de datos en VHDL</a></li>

<li class="toctree-l1"><a class="reference internal" href="compuertas_VHDL.html">Compuertas Lógicas en VHDL</a></li>


<li class="toctree-l1"><a class="reference internal" href="estructuras_control_VHDL.html">Estructuras de control de flujo o de desición en VHDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="circuitos_aritmeticos.html">Circuitos lógicos aritméticos</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Uso del testbench o banco de pruebas en simulaciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="resta_binaria.html">Resta binaria</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiplicacion_binaria.html">Multiplicación binaria</a></li>
<li class="toctree-l1"><a class="reference internal" href="Codigo_multiplicador.html">Código VHDL para un multiplicador binario de cuatro bits.</a></li>
<li class="toctree-l1"><a class="reference internal" href="resta_con_signo.html">Resta binaria con signo</a></li>
<li class="toctree-l1"><a class="reference internal" href="circuitos_logicos_secuenciales.html">Circuitos lógicos secuenciales</a></li>
<li class="toctree-l1"><a class="reference internal" href="flip_flops.html">Flip-flops con símbolos gráficos estándar</a></li>
<li class="toctree-l1"><a class="reference internal" href="analisis_secuenciales.html">Análisis de circuitos secuenciales</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bibliograf%C3%ADa.html">Bibliografía</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Descarga esta pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/simulaciones_testbench.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Descargar archivo fuente"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir en PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo de pantalla completa"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="claro/oscuro" aria-label="claro/oscuro" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Uso del testbench o banco de pruebas en simulaciones</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenido </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-de-los-circuitos-aritmeticos">Simulacion de los circuitos aritméticos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-del-medio-sumador">Simulación del medio sumador</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-del-sumador-completo">Simulación del sumador completo.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumador-con-acarreo-serie">Sumador con acarreo serie</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-del-sumador-con-acarreo-serie">Simulación del sumador con acarreo serie</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="uso-del-testbench-o-banco-de-pruebas-en-simulaciones">
<h1>Uso del testbench o banco de pruebas en simulaciones<a class="headerlink" href="#uso-del-testbench-o-banco-de-pruebas-en-simulaciones" title="Permalink to this heading">#</a></h1>
<p>Cuando el código necesario para la descripción de un circuito lógico en VHDL ha sido generado correctamente se procede a su simulación por medio de algún software en específico como lo hemos hecho en las secciones anteriores. La prueba del código se lleva a cabo asignando valores de prueba a las entradas del sistema digital desrito. Estos valores de prueba pueden ser constantes o relojes según convenga a la prueba. Existe una manera alternativa para asignar los valores de prueba a las variables o puertos de entrada, esta forma alternativa permite cierta automatización del proceso de simulación, evitando la necesidad de especificar patrones a las entradas haciendo uso de la interfaz gráfica del software intérprete del lenguaje VHDL.</p>
<p>Un testbench es un archivo especial que tiene la estructura de un programa que contiene las especificaciones necesarias para asignar valores de prueba a las entradas del sistema digital y evaluar o simular su comportamiento. El archivo testbench es una maera de emular o imitar un banco de pruebas de electrónica. Para ilustrar la aplicación de un testbench usaremos un ejemplosencillo que consiste en un comparador simple de dos entradas de un solo bit, cuya tabla de verdad se muestra abajo:</p>
<table class="table table-left" id="comparador-unbit">
<caption><span class="caption-number">Tabla 9 </span><span class="caption-text">Tabla de verdad de un circuito semi-sumador </span><a class="headerlink" href="#comparador-unbit" title="Enlace permanente a esta tabla">#</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Entradas</p></th>
<th class="head"><p>Salida</p></th>
</tr>
<tr class="row-even"><th class="head"><p>X</p></th>
<th class="head"><p>Y</p></th>
<th class="head"><p>I</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p><strong>0</strong></p></td>
<td><p><strong>0</strong></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p><strong>0</strong></p></td>
<td><p><strong>1</strong></p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p><strong>1</strong></p></td>
<td><p><strong>0</strong></p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><strong>1</strong></p></td>
<td><p><strong>1</strong></p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Para este ejmplo en particular, asumiremos que solo podemos usar compuertas básicas <strong>AND</strong>, <strong>OR</strong>, <strong>NOT</strong> y <strong>XOR</strong>, con el fin de repasar algunos conceptos importantes. Una forma de representar al circuito lógico resultante es por medio de la expresión booleana:</p>
<div class="math notranslate nohighlight">
\[
I=XY+\overline{X}~\overline{Y}
\]</div>
<p>Una posible descripción en VHDL para el circuito resultante es:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">------------------------------------------------</span>
<span class="c1">-- Descripción de un circuito comparador de un bit</span>
<span class="c1">-----------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">ieee</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.std_logic_1164.</span><span class="k">all</span><span class="p">;</span>

<span class="w"> </span>
<span class="k">entity</span><span class="w"> </span><span class="nc">comparador</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Entradas</span>
<span class="w">    </span><span class="n">I</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="w"> </span><span class="c1">-- Salida I, por designar iguales</span>
<span class="w">    </span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">comparador</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">architecture</span><span class="w"> </span><span class="nc">arq</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">comparador</span><span class="w"> </span><span class="k">is</span>
<span class="w"> </span><span class="k">signal</span><span class="w"> </span><span class="n">intermedia_0</span><span class="p">,</span><span class="w"> </span><span class="n">intermedia_1</span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Señales intermedias  </span>
<span class="k">begin</span>

<span class="w">  </span><span class="n">I</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">intermedia_0</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">intermedia_1</span><span class="p">;</span><span class="c1">-- La salida I es el resultado de la</span>
<span class="w">                                 </span><span class="c1">-- operación OR de las señales intermedias</span>
<span class="w">  </span><span class="n">intermedia_0</span><span class="w">  </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">(</span><span class="k">NOT</span><span class="w"> </span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">(</span><span class="k">NOT</span><span class="w"> </span><span class="n">Y</span><span class="p">);</span>
<span class="w">  </span><span class="n">intermedia_1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">Y</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="nc">arq</span><span class="p">;</span>
</pre></div>
</div>
<p>El circuito lógico equivalente a esta descripción se muestra en la figura de abajo:</p>
<div class="figure align-default" id="comparador1">
<a class="reference internal image-reference" href="_images/comparador.png"><img alt="_images/comparador.png" src="_images/comparador.png" style="height: 200px;" /></a>
<p class="caption"><span class="caption-number">Figura 18 </span><span class="caption-text">Circuito circuito comparador de dos bits</span><a class="headerlink" href="#comparador1" title="Enlace permanente a esta imagen">#</a></p>
</div>
<p>La salida de la simulación en vivado, usado el método tradicional, es decir, generando una tabla de verdad o combinaciones de las variables de entrada <strong>X</strong> e <strong>Y</strong> es:</p>
<div class="figure align-default" id="salida-comp1">
<a class="reference internal image-reference" href="_images/salida_comp_1.png"><img alt="_images/salida_comp_1.png" src="_images/salida_comp_1.png" style="height: 400px;" /></a>
<p class="caption"><span class="caption-number">Figura 19 </span><span class="caption-text">Simulación del comaprador de dos bits.</span><a class="headerlink" href="#salida-comp1" title="Enlace permanente a esta imagen">#</a></p>
</div>
<p>El archivo especial que permite una simulación automática, es decir, sin la necesidad de usar la parte gráfica de la interfaz de vivado, es decir, sin la necesidad de usar la herramientao <code class="docutils literal notranslate"><span class="pre">Force</span> <span class="pre">clock</span></code> se muestra a continuación:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">------------------------------------------------</span>
<span class="c1">-- Testbench o archivo banco de pruebas </span>
<span class="c1">--    para el comparador de 2 bits</span>
<span class="c1">-----------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">ieee</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.std_logic_1164.</span><span class="k">all</span><span class="p">;</span>

<span class="k">entity</span><span class="w"> </span><span class="nc">comparador_test</span><span class="w"> </span><span class="k">is</span>
<span class="k">end</span><span class="w"> </span><span class="nc">comparador_test</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Cuando se escribe un archivo</span>
<span class="c1">-- para pruebas se usa una entidad vacía</span>

<span class="k">architecture</span><span class="w"> </span><span class="nc">arq_test</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">comparador_test</span><span class="w"> </span><span class="k">is</span>

<span class="c1">--------------------------------------------------------------</span>
<span class="c1">----- Se usa una estructura comparador para </span>
<span class="c1">---   declarar o invocar a la entidad o circuito</span>
<span class="c1">---   lógico bajo prueba con todas sus entradas y salidas</span>
<span class="c1">---------------------------------------------------------------</span>
<span class="w"> </span><span class="k">component</span><span class="w"> </span><span class="nc">comparador</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Entradas</span>
<span class="w">    </span><span class="n">I</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="w"> </span><span class="c1">-- Salida I, para designar iguales</span>
<span class="w">    </span><span class="p">);</span>
<span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">component</span><span class="p">;</span>
<span class="c1">---------------------------------------------------------------------- </span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">test_in</span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">test_out</span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">  </span><span class="c1">-- Señales internas  </span>
<span class="w">  </span><span class="c1">-- usadas para la simulación</span>
<span class="c1">----------------------------------------------------------------------</span>
<span class="k">begin</span>
<span class="c1">-----------------------------------------------------------------</span>
<span class="c1">-- En esta parte se declara el circuito lógico bajo prueba</span>
<span class="c1">------------------------------------------------------------------</span>
<span class="w">   </span><span class="n">DUT</span><span class="o">:</span><span class="w"> </span><span class="n">comparador</span><span class="w"> </span><span class="c1">-- Entidad bajo prueba Design Under Test (DUT)</span>
<span class="w">   </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_in</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="w">            </span><span class="n">Y</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_in</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="n">I</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_out</span><span class="p">);</span>
<span class="c1">------------------------------------------------------</span>
<span class="w">   </span><span class="k">process</span>
<span class="w">      </span><span class="k">begin</span>
<span class="w">         </span><span class="c1">-- Vector de pruebas 0</span>
<span class="w">           </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;00&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Parte inicial de la prueba</span>
<span class="w">           </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Se genera un retardo, </span>
<span class="c1">--       similar a la herramienta force clock </span>
<span class="c1">--    para poder generar las combinaciones de las entradas</span>
<span class="w">         </span><span class="c1">-- Vector de pruebas 1</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;01&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- combinación 1</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 2</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;10&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 3</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;11&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span><span class="c1">-- El ciclo se repite a partir de aquí           </span>
<span class="w">     </span><span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span><span class="w">  </span>
<span class="k">end</span><span class="w"> </span><span class="nc">arq_test</span><span class="p">;</span>
</pre></div>
</div>
<p>El video de abajo muestra el procedimiento completo para simular un sistema digital descrito en VHDL en vivado, usando los archivos de descripción de hardware y el testbench anteriores.</p>
<div align='center'>
<video controls autoplay muted="true" loop="true" width="600">
    <source src="./_static/videos/salida_comp_tb.mp4 " type="video/mp4">
</video>
</div>
<div class="section" id="simulacion-de-los-circuitos-aritmeticos">
<h2>Simulacion de los circuitos aritméticos<a class="headerlink" href="#simulacion-de-los-circuitos-aritmeticos" title="Permalink to this heading">#</a></h2>
<p>A continuación se muestra el código de los archivos test bench o banco de pruebas para los circuitos lógicos aritméticos anteriormente descritos, cuya simulación se realizó de manera manual, esta vez se harán de manera automática utilizando los archivos testbench.</p>
<div class="section" id="simulacion-del-medio-sumador">
<h3>Simulación del medio sumador<a class="headerlink" href="#simulacion-del-medio-sumador" title="Permalink to this heading">#</a></h3>
<p>El archivo de descripción para el medio sumador o semi-sumador, mostrado en la <a class="reference internal" href="circuitos_aritmeticos.html#semi-suma"><span class="std std-numref">Figura 12</span></a> es el siguiente:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-------------------------------------------------------------------------------</span>
<span class="c1">-- Descripción VHDL de un semi-sumador</span>
<span class="c1">-------------------------------------------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">ieee</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.std_logic_1164.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.numeric_std.</span><span class="k">all</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">entity</span><span class="w"> </span><span class="nc">semi_sumador</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">X</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">Y</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">S</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">C</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span>
<span class="w">    </span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">semi_sumador</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">architecture</span><span class="w"> </span><span class="nc">arq</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">semi_sumador</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">  </span><span class="n">S</span><span class="w">  </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="n">Y</span><span class="p">;</span>
<span class="w">  </span><span class="n">C</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">Y</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="nc">arq</span><span class="p">;</span>
</pre></div>
</div>
<p>Mientras que el contenido del archivo test bench es el siguiente:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">------------------------------------------------</span>
<span class="c1">-- Testbench o archivo banco de pruebas </span>
<span class="c1">--    para el comparador de 2 bits</span>
<span class="c1">-----------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">ieee</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.std_logic_1164.</span><span class="k">all</span><span class="p">;</span>

<span class="k">entity</span><span class="w"> </span><span class="nc">semi_sumador_test</span><span class="w"> </span><span class="k">is</span>
<span class="k">end</span><span class="w"> </span><span class="nc">semi_sumador_test</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Cuando se escribe un archivo</span>
<span class="c1">-- para pruebas se usa una entidad vacía</span>

<span class="k">architecture</span><span class="w"> </span><span class="nc">arq_test</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">semi_sumador_test</span><span class="w"> </span><span class="k">is</span>

<span class="c1">--------------------------------------------------------------</span>
<span class="c1">----- Se usa una estructura comparador para </span>
<span class="c1">---   declarar o invocar a la entidad o circuito</span>
<span class="c1">---   lógico bajo prueba con todas sus entradas y salidas</span>
<span class="c1">---------------------------------------------------------------</span>
<span class="w"> </span><span class="k">component</span><span class="w"> </span><span class="nc">semi_sumador</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">X</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">Y</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">S</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">C</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span>
<span class="w">    </span><span class="p">);</span>
<span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">component</span><span class="p">;</span>
<span class="c1">---------------------------------------------------------------------- </span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">test_in</span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">test_out</span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">  </span><span class="c1">-- Señales internas  </span>
<span class="w">  </span><span class="c1">-- usadas para la simulación</span>
<span class="c1">----------------------------------------------------------------------</span>
<span class="k">begin</span>
<span class="c1">-----------------------------------------------------------------</span>
<span class="c1">-- En esta parte se declara el circuito lógico bajo prueba</span>
<span class="c1">------------------------------------------------------------------</span>
<span class="w">   </span><span class="n">DUT</span><span class="o">:</span><span class="w"> </span><span class="n">semi_sumador</span><span class="w"> </span><span class="c1">-- Entidad bajo prueba Design Under Test (DUT)</span>
<span class="w">   </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_in</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="w">            </span><span class="n">Y</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_in</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="n">S</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_out</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="w">            </span><span class="n">C</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_out</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<span class="c1">------------------------------------------------------</span>
<span class="w">   </span><span class="k">process</span>
<span class="w">      </span><span class="k">begin</span>
<span class="w">         </span><span class="c1">-- Vector de pruebas 0</span>
<span class="w">           </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;00&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Parte inicial de la prueba</span>
<span class="w">           </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Se genera un retardo, </span>
<span class="c1">--       similar a la herramienta force clock </span>
<span class="c1">--    para poder generar las combinaciones de las entradas</span>
<span class="w">         </span><span class="c1">-- Vector de pruebas 1</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;01&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- combinación 1</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 2</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;10&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 3</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;11&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span><span class="c1">-- El ciclo se repite a partir de aquí           </span>
<span class="w">     </span><span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span><span class="w">  </span>
<span class="k">end</span><span class="w"> </span><span class="nc">arq_test</span><span class="p">;</span>
</pre></div>
</div>
<p>La salida en Vivado de la simulación se muestra en la figura <a class="reference internal" href="#semi-suma-salida-tb"><span class="std std-numref">Figura 20</span></a>.</p>
<div class="figure align-default" id="semi-suma-salida-tb">
<a class="reference internal image-reference" href="_images/salida_semi_suma_tb.png"><img alt="_images/salida_semi_suma_tb.png" src="_images/salida_semi_suma_tb.png" style="height: 400px;" /></a>
<p class="caption"><span class="caption-number">Figura 20 </span><span class="caption-text">Simulación del semi-sumador.</span><a class="headerlink" href="#semi-suma-salida-tb" title="Enlace permanente a esta imagen">#</a></p>
</div>
</div>
<div class="section" id="simulacion-del-sumador-completo">
<h3>Simulación del sumador completo.<a class="headerlink" href="#simulacion-del-sumador-completo" title="Permalink to this heading">#</a></h3>
<p>El archivo de descripción para el medio sumador o semi-sumador, mostrado en la <a class="reference internal" href="circuitos_aritmeticos.html#sumador-completo"><span class="std std-numref">Figura 16</span></a> es el siguiente:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">------------------------------------------------</span>
<span class="c1">-- Descripción de un circuito sumador completo</span>
<span class="c1">-----------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">ieee</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.std_logic_1164.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.numeric_std.</span><span class="k">all</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">entity</span><span class="w"> </span><span class="nc">sumador_completo</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">X</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">Y</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">Z</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">S</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">C</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span>
<span class="w">    </span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">sumador_completo</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">architecture</span><span class="w"> </span><span class="nc">arq</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">sumador_completo</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">  </span><span class="n">S</span><span class="w">  </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="n">Z</span><span class="p">);</span>
<span class="w">  </span><span class="n">C</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">Y</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">(</span><span class="n">Z</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">Y</span><span class="p">));</span>
<span class="k">end</span><span class="w"> </span><span class="nc">arq</span><span class="p">;</span>
</pre></div>
</div>
<p>Mientras que el contenido del archivo test bench es el siguiente:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">------------------------------------------------</span>
<span class="c1">-- Testbench o archivo banco de pruebas </span>
<span class="c1">--    para el comparador de 2 bits</span>
<span class="c1">-----------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">ieee</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">ieee.std_logic_1164.</span><span class="k">all</span><span class="p">;</span>

<span class="k">entity</span><span class="w"> </span><span class="nc">sumador_completo_test</span><span class="w"> </span><span class="k">is</span>
<span class="k">end</span><span class="w"> </span><span class="nc">sumador_completo_test</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Cuando se escribe un archivo</span>
<span class="c1">-- para pruebas se usa una entidad vacía</span>

<span class="k">architecture</span><span class="w"> </span><span class="nc">arq_test</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">sumador_completo_test</span><span class="w"> </span><span class="k">is</span>

<span class="c1">--------------------------------------------------------------</span>
<span class="c1">----- Se usa una estructura comparador para </span>
<span class="c1">---   declarar o invocar a la entidad o circuito</span>
<span class="c1">---   lógico bajo prueba con todas sus entradas y salidas</span>
<span class="c1">---------------------------------------------------------------</span>
<span class="w"> </span><span class="k">component</span><span class="w"> </span><span class="nc">sumador_completo</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">X</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">Y</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">Z</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">    </span>
<span class="w">    </span><span class="n">S</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">    </span><span class="n">C</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span>
<span class="w">    </span><span class="p">);</span>
<span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">component</span><span class="p">;</span>
<span class="c1">---------------------------------------------------------------------- </span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">test_in</span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">test_out</span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">  </span><span class="c1">-- Señales internas  </span>
<span class="w">  </span><span class="c1">-- usadas para la simulación</span>
<span class="c1">----------------------------------------------------------------------</span>
<span class="k">begin</span>
<span class="c1">-----------------------------------------------------------------</span>
<span class="c1">-- En esta parte se declara el circuito lógico bajo prueba</span>
<span class="c1">------------------------------------------------------------------</span>
<span class="w">   </span><span class="n">DUT</span><span class="o">:</span><span class="w"> </span><span class="n">sumador_completo</span><span class="w"> </span><span class="c1">-- Entidad bajo prueba Design Under Test (DUT)</span>
<span class="w">   </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_in</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
<span class="w">            </span><span class="n">Y</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_in</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="w">            </span><span class="n">Z</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_in</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="n">S</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_out</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="n">C</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_out</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="c1">------------------------------------------------------</span>
<span class="w">   </span><span class="k">process</span>
<span class="w">      </span><span class="k">begin</span>
<span class="w">         </span><span class="c1">-- Vector de pruebas 0</span>
<span class="w">           </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;000&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Parte inicial de la prueba</span>
<span class="w">           </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Se genera un retardo, </span>
<span class="c1">--       similar a la herramienta force clock </span>
<span class="c1">--    para poder generar las combinaciones de las entradas     </span>
<span class="w">         </span><span class="c1">-- Vector de pruebas 1</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;001&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- combinación 1</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 2</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;010&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 3</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;011&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 4</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;100&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 5</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;101&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 6</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;110&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="c1">-- Vector de pruebas 7</span>
<span class="w">            </span><span class="n">test_in</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;111&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="k">wait</span><span class="p">;</span><span class="w"> </span><span class="c1">-- La prueba termina aquí y ya no se repite            </span>
<span class="w">     </span><span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span><span class="w">  </span>
<span class="k">end</span><span class="w"> </span><span class="nc">arq_test</span><span class="p">;</span>
</pre></div>
</div>
<p>La salida en Vivado de la simulación se muestra en la figura <a class="reference internal" href="#salida-suma-comp"><span class="std std-numref">Figura 21</span></a>.</p>
<div class="figure align-default" id="salida-suma-comp">
<a class="reference internal image-reference" href="_images/salida_suma_tb.png"><img alt="_images/salida_suma_tb.png" src="_images/salida_suma_tb.png" style="height: 400px;" /></a>
<p class="caption"><span class="caption-number">Figura 21 </span><span class="caption-text">Simulación del sumador completo.</span><a class="headerlink" href="#salida-suma-comp" title="Enlace permanente a esta imagen">#</a></p>
</div>
</div>
</div>
<div class="section" id="sumador-con-acarreo-serie">
<h2>Sumador con acarreo serie<a class="headerlink" href="#sumador-con-acarreo-serie" title="Permalink to this heading">#</a></h2>
<p>Un sumador binario paralelo es un circuito digital que realiza la suma aritmética de dos números
binarios empleando sólo lógica combinacional(<span id="id1">Mano and Kime [<a class="reference internal" href="Bibliograf%C3%ADa.html#id3" title="M. Morris. Mano and Charles. Kime. Fundamentos de diseño lógico y computadoras. Pearson education, Madrid, España., tercera edition, 2017. ISBN 9788483226889.">MK17</a>]</span>). El sumador paralelo es un conjunto de <span class="math notranslate nohighlight">\(n\)</span> sumadores completos posicionados en paralelo, de manera tal que todos los bits de ambos sumandos se presentan simultáneamente en paralelo en las entradas para calcular la suma. Los <span class="math notranslate nohighlight">\(n\)</span> sumadores completos
se conectan uno detrás del otro (en cascada), con la salida del acarreo de un sumador completo conectada a la entrada de acarreo del siguiente sumador completo. Es posible que aparezca un acarreo  con valor «1»
cerca del bit menos significativo del sumador tal que se propaga a través del resto de los sumadores completos hacia el bit más significativo. Un circuito lógico combinacional como este se denomina sumador
con acarreo serie (en inglés se denomina ripple carry adder). La <a class="reference internal" href="#sumador-bloques"><span class="std std-numref">Figura 22</span></a> muestra la interconexión típica, en forma de diagrama de bloques, para construir un sumador de 4 bits con acarreo serie. Los bits del primer sumando <strong><span class="math notranslate nohighlight">\(X\)</span></strong> y los del segundo sumando <strong><span class="math notranslate nohighlight">\(Y\)</span></strong> son designados mediante subíndices en orden creciente de derecha a izquierda, de modo que el subíndice 0 denota el bit menos significativo o con menor ponderación. Los acarreos se conectan en serie a través de los sumadores completos. El acarreo de entrada del sumador pararelo es <strong><span class="math notranslate nohighlight">\(C_0\)</span></strong>, y el acarreo de salida es <strong><span class="math notranslate nohighlight">\(C_4\)</span></strong>. Un sumador de <span class="math notranslate nohighlight">\(n\)</span> bits con acarreo serie requiere <span class="math notranslate nohighlight">\(n\)</span> sumadores completos, con cada salida de acarreo conectada a la entrada de acarreo el siguiente sumador completo de orden inmediato superior. Por ejemplo, considere los dos números binarios <span class="math notranslate nohighlight">\(X=1011\)</span> y <span class="math notranslate nohighlight">\(Y=0011\)</span>. Su suma, <span class="math notranslate nohighlight">\(S=1110\)</span>, se puede realizar utilizando un sumador completo de completo bits con acarreo serie como se muestra en la <a class="reference internal" href="#suma-binaria"><span class="std std-numref">Figura 23</span></a>.</p>
<div class="figure align-default" id="sumador-bloques">
<a class="reference internal image-reference" href="_images/sumador_bloques.png"><img alt="_images/sumador_bloques.png" src="_images/sumador_bloques.png" style="width: 800px; height: 200px;" /></a>
<p class="caption"><span class="caption-number">Figura 22 </span><span class="caption-text">Diagrama de un sumador con acarreo serie.</span><a class="headerlink" href="#sumador-bloques" title="Enlace permanente a esta imagen">#</a></p>
</div>
<div class="figure align-default" id="suma-binaria">
<a class="reference internal image-reference" href="_images/suma_binaria.png"><img alt="_images/suma_binaria.png" src="_images/suma_binaria.png" style="height: 250px;" /></a>
<p class="caption"><span class="caption-number">Figura 23 </span><span class="caption-text">Suma de dos números de cuatro bits.</span><a class="headerlink" href="#suma-binaria" title="Enlace permanente a esta imagen">#</a></p>
</div>
<div class="section" id="simulacion-del-sumador-con-acarreo-serie">
<h3>Simulación del sumador con acarreo serie<a class="headerlink" href="#simulacion-del-sumador-con-acarreo-serie" title="Permalink to this heading">#</a></h3>
<p>La descripción en VHDL del sumador en serie incluye a la descripción del sumador completo. Es posible hacer uso de módulos ya analizados y simulados para conseguir la construcción o descripción de un sistema digital más complejo en el contexto de la lógica combinacional, los sistemas digitales complejos, incluso los microprocesadores de las computadoras son circitos lógicos combinacionales que incorporan infinidad de subsiseños. El código VHDL para el sumador serie se muestra abajo:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">--------------------------------------------------</span>
<span class="c1">-- Código VHDL para la descripción de </span>
<span class="c1">--    un sumador con acarreo </span>
<span class="c1">-- serie de dos números de 4 bits</span>
<span class="c1">--------------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">IEEE</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">IEEE.STD_LOGIC_1164.</span><span class="k">ALL</span><span class="p">;</span>
<span class="c1">------------------------------------------------  </span>
<span class="c1">-- Se usa la descripción de un bloque </span>
<span class="c1">--   básico el cual es un sumador completo</span>
<span class="c1">--------------------------------------------------</span>
<span class="k">entity</span><span class="w"> </span><span class="nc">sumador_completo</span><span class="w"> </span><span class="k">is</span>
<span class="w"> </span><span class="k">Port</span><span class="w"> </span><span class="p">(</span><span class="w">  </span><span class="n">X</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">         </span><span class="n">Y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">         </span><span class="n">Z</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">         </span><span class="n">S</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">         </span><span class="n">Cout</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">sumador_completo</span><span class="p">;</span>
<span class="c1">-- Se describe la arquitectura a nivel compuerta </span>
<span class="k">architecture</span><span class="w"> </span><span class="nc">nivel_compuerta</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">sumador_completo</span><span class="w"> </span><span class="k">is</span>
<span class="w"> </span>
<span class="k">begin</span>
<span class="w"> </span>
<span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="k">XOR</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="k">XOR</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="p">;</span>
<span class="w"> </span><span class="n">Cout</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">Y</span><span class="p">)</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="p">(</span><span class="n">Z</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="p">(</span><span class="n">Z</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">Y</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<span class="w"> </span>
<span class="k">end</span><span class="w"> </span><span class="nc">nivel_compuerta</span><span class="p">;</span><span class="w"> </span>
<span class="c1">----------------------------------------------------</span>
<span class="c1">-- Se describe la entidad sumador serie que </span>
<span class="c1">-- contiene al sumador completo como bloque </span>
<span class="c1">-- fundamental</span>
<span class="c1">-------------------------------------------------</span>
<span class="k">library</span><span class="w"> </span><span class="nn">IEEE</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">IEEE.STD_LOGIC_1164.</span><span class="k">ALL</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">entity</span><span class="w"> </span><span class="nc">sumador_serie</span><span class="w"> </span><span class="k">is</span>
<span class="k">Port</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC_VECTOR</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">       </span><span class="n">Y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC_VECTOR</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">       </span><span class="n">C0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">       </span><span class="n">S</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC_VECTOR</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">       </span><span class="n">C4</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nc">sumador_serie</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">architecture</span><span class="w"> </span><span class="nc">arq</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">sumador_serie</span><span class="w"> </span><span class="k">is</span>
<span class="w"> </span>
<span class="c1">-- Declaración del uso del sumador completo</span>
<span class="c1">-- como bloque básico</span>
<span class="k">component</span><span class="w"> </span><span class="nc">sumador_completo</span>
<span class="w"> </span><span class="k">Port</span><span class="w"> </span><span class="p">(</span><span class="w">  </span><span class="n">X</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">         </span><span class="n">Y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">         </span><span class="n">Z</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">         </span><span class="n">S</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">      </span><span class="n">Cout</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="k">component</span><span class="p">;</span>
<span class="w"> </span>
<span class="c1">-- Acarreos intermedios</span>
<span class="k">signal</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="o">:</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">begin</span>
<span class="w"> </span>
<span class="c1">-- Mapeo del sumador completo 4 veces, usado etiquetas </span>
<span class="c1">-- Sc para interconectar los bloques</span>
<span class="n">Sc1</span><span class="o">:</span><span class="w"> </span><span class="n">sumador_completo</span><span class="w"> </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">C0</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">c1</span><span class="p">);</span>
<span class="n">Sc2</span><span class="o">:</span><span class="w"> </span><span class="n">sumador_completo</span><span class="w"> </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">c2</span><span class="p">);</span>
<span class="n">Sc3</span><span class="o">:</span><span class="w"> </span><span class="n">sumador_completo</span><span class="w"> </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">c2</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">c3</span><span class="p">);</span>
<span class="n">Sc4</span><span class="o">:</span><span class="w"> </span><span class="n">sumador_completo</span><span class="w"> </span><span class="k">port</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">c3</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">C4</span><span class="p">);</span>
<span class="w"> </span>
<span class="k">end</span><span class="w"> </span><span class="nc">arq</span><span class="p">;</span>
</pre></div>
</div>
<p>El contenido del archivo test bench incluye al sumador serie como un componente, el cual se utiliza para declarar al diseño bajo prueba (DUT), el código VHDL del test bench es el siguiente:</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="k">library</span><span class="w"> </span><span class="nn">IEEE</span><span class="p">;</span>
<span class="k">USE</span><span class="w"> </span><span class="nn">ieee.std_logic_1164.</span><span class="k">ALL</span><span class="p">;</span>
<span class="w"> </span>
<span class="k">entity</span><span class="w"> </span><span class="nc">tb_sumador_serie</span><span class="w"> </span><span class="k">is</span>
<span class="k">end</span><span class="w"> </span><span class="nc">tb_sumador_serie</span><span class="p">;</span>
<span class="k">architecture</span><span class="w"> </span><span class="nc">arq</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">tb_sumador_serie</span><span class="w"> </span><span class="k">is</span>
<span class="c1">-- Declaración del diseño bajo prueba DUT</span>
<span class="k">component</span><span class="w"> </span><span class="nc">sumador_serie</span>
<span class="k">Port</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC_VECTOR</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">       </span><span class="n">Y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC_VECTOR</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">       </span><span class="n">C0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">;</span>
<span class="w">       </span><span class="n">S</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC_VECTOR</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">       </span><span class="n">C4</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">STD_LOGIC</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="k">component</span><span class="p">;</span>
<span class="c1">------------------------------------------------</span>
<span class="c1">--   Entradas</span>
<span class="c1">--  en este caso es importante usar valores por defecto</span>
<span class="c1">--- para iniciar la simulación, usanod la asignación</span>
<span class="c1">--- especial := (others =&gt; &#39;0&#39;) para vectores de bits</span>
<span class="c1">---- y := &#39;0&#39; para bits.</span>
<span class="c1">-------------------------------------------------</span>
<span class="k">signal</span><span class="w"> </span><span class="n">test_X</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">:=</span><span class="w"> </span><span class="p">(</span><span class="k">others</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="k">signal</span><span class="w"> </span><span class="n">test_Y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">:=</span><span class="w"> </span><span class="p">(</span><span class="k">others</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="k">signal</span><span class="w"> </span><span class="n">test_C0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic</span><span class="o">:=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">;</span>
<span class="c1">--Salidas</span>
<span class="k">signal</span><span class="w"> </span><span class="n">test_S</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="k">signal</span><span class="w"> </span><span class="n">test_Cout</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="k">begin</span>
<span class="c1">-- Inicializaciond del DUT</span>
<span class="n">DUT</span><span class="o">:</span><span class="w"> </span><span class="n">sumador_serie</span><span class="w"> </span>
<span class="k">Port</span><span class="w"> </span><span class="k">map</span><span class="w"> </span><span class="p">(</span>
<span class="n">X</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_X</span><span class="p">,</span>
<span class="n">Y</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_Y</span><span class="p">,</span>
<span class="n">C0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_C0</span><span class="p">,</span>
<span class="n">S</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_S</span><span class="p">,</span>
<span class="n">C4</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">test_Cout</span>
<span class="p">);</span>
<span class="c1">-- Proceso de pruebas</span>
<span class="k">process</span>
<span class="k">begin</span>
<span class="c1">-- Mantener reset inical por 100ns</span>
<span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="c1">-- Se prueban varias combinaciones de </span>
<span class="c1">-- sumandos</span>
<span class="n">test_X</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;0110&quot;</span><span class="p">;</span>
<span class="n">test_Y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;1100&quot;</span><span class="p">;</span>
<span class="c1">--- </span>
<span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="n">test_X</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;1111&quot;</span><span class="p">;</span>
<span class="n">test_Y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;1100&quot;</span><span class="p">;</span>
<span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="n">test_X</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;0110&quot;</span><span class="p">;</span>
<span class="n">test_Y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;0111&quot;</span><span class="p">;</span>
<span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="n">test_X</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;0110&quot;</span><span class="p">;</span>
<span class="n">test_Y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;1110&quot;</span><span class="p">;</span>
<span class="k">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="n">test_X</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;1111&quot;</span><span class="p">;</span>
<span class="n">test_Y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s">&quot;1111&quot;</span><span class="p">;</span>
<span class="k">wait</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">process</span><span class="p">;</span>
<span class="k">end</span><span class="p">;</span>
</pre></div>
</div>
<p>La salida en Vivado de la simulación se muestra en la figura <a class="reference internal" href="#salida-suma-serie-sim"><span class="std std-numref">Figura 24</span></a>.</p>
<div class="figure align-default" id="salida-suma-serie-sim">
<a class="reference internal image-reference" href="_images/suma_serie_sim.png"><img alt="_images/suma_serie_sim.png" src="_images/suma_serie_sim.png" style="height: 350px;" /></a>
<p class="caption"><span class="caption-number">Figura 24 </span><span class="caption-text">Simulación del sumador con acarreo serie.</span><a class="headerlink" href="#salida-suma-serie-sim" title="Enlace permanente a esta imagen">#</a></p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "Octave"
        },
        kernelOptions: {
            name: "Octave",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'Octave'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="circuitos_aritmeticos.html"
       title="página anterior">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">anterior</p>
        <p class="prev-next-title">Circuitos lógicos aritméticos</p>
      </div>
    </a>
    <a class="right-next"
       href="resta_binaria.html"
       title="siguiente página">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">siguiente</p>
        <p class="prev-next-title">Resta binaria</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenido
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-de-los-circuitos-aritmeticos">Simulacion de los circuitos aritméticos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-del-medio-sumador">Simulación del medio sumador</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-del-sumador-completo">Simulación del sumador completo.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumador-con-acarreo-serie">Sumador con acarreo serie</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulacion-del-sumador-con-acarreo-serie">Simulación del sumador con acarreo serie</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Por Dr. Luis Gerardo Trujillo Franco
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>